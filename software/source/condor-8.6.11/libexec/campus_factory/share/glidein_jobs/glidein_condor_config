# Glidein condor config

#
# Things you should edit:
#

# This string is useful for monitoring.  You should change it to something unique to your resource.
#GLIDEIN_Site = "Firefly - HCC Campus Grid"


# Thinks you can edit:

# Which hosts would you like be able to shutdown/run this glidein.  Default is usually ok.
ALLOW_ADMINISTRATOR = $(HOSTNAME), $(GLIDEIN_HOST)

# How long should the glidein run if it's not running any jobs.  In seconds.
STARTD_NOCLAIM_SHUTDOWN=1200

# Retirement time - 72000 = 20 hours
SHUTDOWN_GRACEFUL_TIMEOUT = 72000
MAXJOBRETIREMENTTIME = 34800

#
# Things you should probably leave alone
#

LOG = $(LOCAL_DIR)/log
EXECUTE = $(LOCAL_DIR)/execute

MAIL = /bin/mail
DAEMON_LIST = MASTER, STARTD
MASTER_ADDRESS_FILE = $(LOG)/.master_address
MASTER = $(SBIN)/condor_master
MASTER_LOG = $(LOG)/MasterLog
STARTD = $(SBIN)/condor_startd
STARTER = $(SBIN)/condor_starter
PROCD = $(SBIN)/condor_procd
PROCD_LOG = $(LOG)/ProcLog
PROCD_ADDRESS = $(LOCK)/procd_address

STARTER_STD = $(SBIN)/condor_starter.std
STARTER_LIST = STARTER, STARTER_STD

USE_NFS = False
USE_CKPT_SERVER = False

CCB_ADDRESS = $(COLLECTOR_HOST)

LOCK = $(LOG)
STARTD_LOG = $(LOG)/StartLog
STARTER_LOG = $(LOG)/StarterLog

#STARTD_DEBUG = D_ALL
#STARTER_DEBUG = D_ALL

START = True
SUSPEND = False
CONTINUE = True
PREEMPT = False
WANT_VACATE = False
WANT_SUSPEND = True
SUSPEND_VANILLA = False
WANT_SUSPEND_VANILLA = True
KILL = False
IS_GLIDEIN = True

STARTD_EXPRS = IS_GLIDEIN, START, DaemonStopTime, GLIDEIN_Site, BOSCOCluster

MASTER_WAITS_FOR_GCB_BROKER = False

SEC_DEFAULT_AUTHENTICATION = PREFERRED
SEC_DEFAULT_AUTHENTICATION_METHODS = FS,CLAIMTOBE
SEC_ENABLE_MATCH_PASSWORD_AUTHENTICATION = TRUE

JOB_INHERITS_STARTER_ENVIRONMENT = TRUE
JOB_RENICE_INCREMENT = 0


STARTD_SENDS_ALIVES = True
WANT_UDP_COMMAND_SOCKET = False
UPDATE_COLLECTOR_WITH_TCP = False
SEC_DEFAULT_ENCRYPTION=OPTIONAL
SEC_DEFAULT_INTEGRITY=REQUIRED

# Security configuration with password
SEC_PASSWORD_FILE = $(LOCAL_DIR)/passwdfile
SEC_ADVERTISE_STARTD_AUTHENTICATION = REQUIRED
SEC_ADVERTISE_STARTD_INTEGRITY = REQUIRED
SEC_ADVERTISE_STARTD_AUTHENTICATION_METHODS = PASSWORD
SEC_DAEMON_AUTHENTICATION = REQUIRED
SEC_DAEMON_INTEGRITY = REQUIRED
SEC_DAEMON_AUTHENTICATION_METHODS = FS,PASSWORD
SEC_NEGOTIATOR_AUTHENTICATION = REQUIRED
SEC_NEGOTIATOR_INTEGRITY = REQUIRED
SEC_NEGOTIATOR_AUTHENTICATION_METHODS = PASSWORD
SEC_CLIENT_AUTHENTICATION_METHODS = FS, PASSWORD, KERBEROS, GSI

ALLOW_ADVERTISE_STARTD = condor_pool@*/*
ALLOW_NEGOTIATOR = condor_pool@*/*
ALLOW_DAEMON = condor_pool@*/* $(HOSTNAME) submit-side@matchsession

